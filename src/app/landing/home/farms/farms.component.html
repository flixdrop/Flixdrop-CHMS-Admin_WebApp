<ion-header class="ion-padding">
  <ion-toolbar>
    <ion-progress-bar *ngIf="isLoading" type="indeterminate"></ion-progress-bar>

    <ion-buttons>
      <ion-back-button icon="arrow-undo-circle-sharp" defaultHref="/farm/dashboard" text=""></ion-back-button>
      <ion-button fill="clear" expand="block">
        <ion-label>
          {{'Farms' | translate}}
        </ion-label>
        <ion-badge color="dark" style="margin-left: 8px;">
          <ion-label>
            {{results.length}}
          </ion-label>
        </ion-badge>
      </ion-button>

    </ion-buttons>  
  </ion-toolbar>
</ion-header>

<ion-content class="custom-content ion-padding" [scrollEvents]="true">

      <div class="table-container">
      <table *ngIf="!isLoading" id="myTable" class="table">

        <ion-grid>
          <ion-row>
            <ion-col sizeLg="4">
      
              <ion-toolbar>
                <ion-searchbar class="ion-margin" searchIcon="search-circle" clearIcon="backspace"
                cancel-button-icon="arrow-back-circle" showCancelButton="focus" placeholder="{{'Search Animals' | translate}}" [debounce]="1000"
                  (ionInput)="handleInput($event)" (ionBlur)="onClickSearchToggle()">
                </ion-searchbar>
              </ion-toolbar>
            </ion-col>
      
            <ion-col>
      
              <ion-toolbar>
                <ion-icon slot="start" name="filter"></ion-icon>
                <ion-breadcrumbs>
                  <ion-breadcrumb expand="block" [class.active]="activeRange === 7" (click)="setRange(7)">
                    Last 7 Days
                  </ion-breadcrumb>
                  <ion-breadcrumb expand="block" [class.active]="activeRange === 30" (click)="setRange(30)">
                    Last 30 Days
                  </ion-breadcrumb>
                  <ion-breadcrumb expand="block" [class.active]="activeRange === 60" (click)="setRange(60)">
                    Last 60 Days
                  </ion-breadcrumb>
                </ion-breadcrumbs>
              </ion-toolbar>
      
            </ion-col>
          </ion-row>
        </ion-grid>

        <caption *ngIf="results.length > 0">List of Farms</caption>
        <caption *ngIf="results.length == 0">
          {{'No Farm Available'| translate}}</caption>

        <thead>

          <tr>
            <th scope="col" rowspan="2" scope="col" (click)="sortTable(0)"
              [ngClass]="{'sort-asc': sortOrders[0] === 'asc', 'sort-desc': sortOrders[0] === 'desc'}">{{'Farm Name'| translate}}
            </th>
            <th scope="col" rowspan="2" scope="col" (click)="sortTable(1)"
              [ngClass]="{'sort-asc': sortOrders[1] === 'asc', 'sort-desc': sortOrders[1] === 'desc'}">{{'Farm Address'| translate}}</th>
            <th scope="col" rowspan="2" scope="col" (click)="sortTable(2)"
              [ngClass]="{'sort-asc': sortOrders[2] === 'asc', 'sort-desc': sortOrders[2] === 'desc'}">{{'Description'| translate}}</th>
            <th scope="col" colspan="3" scope="col">{{'Owner\'s Details'| translate}}</th>
          </tr>

          <tr>
            <th scope="col" (click)="sortTable(3)"
              [ngClass]="{'sort-asc': sortOrders[3] === 'asc', 'sort-desc': sortOrders[3] === 'desc'}">{{'Name'| translate}}</th>
            <th scope="col" (click)="sortTable(4)"
              [ngClass]="{'sort-asc': sortOrders[4] === 'asc', 'sort-desc': sortOrders[4] === 'desc'}">{{'Phone Number'| translate}}</th>
            <th scope="col" (click)="sortTable(5)"
              [ngClass]="{'sort-asc': sortOrders[5] === 'asc', 'sort-desc': sortOrders[5] === 'desc'}">{{'Designation'| translate}}</th>
          </tr>

        </thead>
        <tbody *ngIf="results.length > 0">
          <tr *ngFor="let farm of results">
            <td>{{farm.name+" Farm"}}</td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
          </tr>
        </tbody>
      </table>
    </div>
</ion-content>